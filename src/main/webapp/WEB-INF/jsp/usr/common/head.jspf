<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>${pageTitle}</title>
<!-- 제이쿼리 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" defer></script>

<!-- 폰트어썸 -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
<!-- 폰트어썸 FREE 아이콘 리스트 : https://fontawesome.com/v5.15/icons?d=gallery&p=2&m=free -->

<!-- 테일윈드 -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.1.4/tailwind.min.css">
<!-- 테일윈드 치트시트 : https://nerdcave.com/tailwind-cheat-sheet -->

<!-- 데이지 UI -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/daisyui/4.12.23/full.css" />


<link rel="stylesheet" href="https://uicdn.toast.com/editor/latest/toastui-editor.min.css" />

<link rel="stylesheet" href="/resource/head.css" />

<script type="module" src="/resource/ajax.js"></script>

</head>
<body data-user-id="${rq.getIsLoginMemberId() != null ? rq.getIsLoginMemberId() : ''}">
	<header>
	
		<div class="top-bar flex mx-auto items-center text-3xl">
			<div class="top-box flex items-center mx-auto justify-between">
				<div>
					<a href="/">LOGO</a>
				</div>
				<div class="">
					<ul class="flex log">
						<li>
							<a href="/usr/article/infolist?boardId=2">INFO</a>
						</li>
						<li>
							<a href="/usr/article/qnalist?boardId=3">QnA</a>
						</li>
						<c:if test="${!rq.isLogined() }">
							<li>
								<a class="hover:underline" href="/usr/member/login">LOGIN</a>
							</li>
							<li>
								<a class="hover:underline" href="/usr/member/join">JOIN</a>
							</li>
						</c:if>
						<c:if test="${rq.isLogined()}">
							<li class="myimg relative">
								<div class="img_reload corsur">
									<img src="${profileImage}" alt="프로필 이미지" style="width: 40px; height: 40px; border-radius: 50%;">
								</div>
								<ul class="absolute flex flex-col myP">
									<li>
										<a class="hover:underline" href="/usr/member/mypage/usrmodify">MY</a>
									</li>
									<li>
										<a onclick="if(confirm('로그아웃 하시겠습니까?') == false) return false;" class="hover:underline"
											href="/usr/member/doLogout">LOGOUT</a>
									</li>
								</ul>
							</li>

						</c:if>
					</ul>
					<div class="message"></div>
					<!-- 알림 아이콘 -->
					<div id="notification-icon">🔔</div>

					<!-- 알림 박스 -->
					<div id="notification-box">
						<!-- 알림 항목이 여기에 동적으로 추가됩니다 -->
					</div>
				</div>
			</div>
		</div>
	</header>

	<style>
/* 알림 박스 전체 컨테이너 */
#notification-box {
	position: fixed;
	top: 70px;
	right: 20px;
	width: 300px;
	max-height: 400px;
	overflow-y: auto;
	background: white;
	border: 1px solid #ddd;
	border-radius: 8px;
	box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
	z-index: 1000;
	display: none;
}

/* 알림 항목 */
.notification-item {
	padding: 12px 16px;
	border-bottom: 1px solid #eee;
	font-size: 14px;
	color: #333;
}

.notification-item a {
	text-decoration: none;
	color: #007bff;
}

.notification-item:last-child {
	border-bottom: none;
}

/* 알림 아이콘 (헤더에서 클릭 가능) */
#notification-icon {
	cursor: pointer;
	position: fixed;
	top: 25px;
	right: 25px;
	z-index: 1001;
}
</style>